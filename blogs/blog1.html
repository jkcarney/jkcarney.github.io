<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>carney writes</title>
    <meta name="author" content="name" />
    <meta name="description" content="description here" />
    <meta name="keywords" content="keywords,here" />
    <link rel="stylesheet" href="https://unpkg.com/tailwindcss@2.2.19/dist/tailwind.min.css"/>
    <!--Replace with your tailwind.css once created-->
  </head>

  
<body class="bg-gray-100 font-sans leading-normal tracking-normal bg-cover" style="background-image:url('../svgs/starry_night_rhone_2600circles.svg');">

	<!--Container-->
	<div class="container w-full md:max-w-4xl mx-auto pt-20 bg-gray-900 opacity-90">

		<div class="w-full px-4 md:px-6 text-xl text-gray-200 leading-normal" style="font-family:Georgia,serif;">

			<!--Title-->
			<div class="font-sans ">
				<p class="text-base md:text-sm text-blue-800 font-bold">&lt; <a href="../index.html" class="text-base md:text-sm text-blue-800 font-bold no-underline hover:underline">homepage</a></p>
                <h1 class="font-bold font-sans break-normal text-gray-100 pt-6 pb-2 text-3xl md:text-4xl">Research Code Sucks</h1>
                <p class="text-sm md:text-base font-normal text-gray-400">May 5th, 2023</p>
				<br>
			</div>
			
			<img src="../images/rse.jpg" alt="art cover" loading="lazy" width="1000" height="667" class="rounded-lg">

			
			<!--Lead Para-->
			<p class="py-6">
				There is a simple truth you learn when you first go into a research field where your primary job is to read or write code:
			</p>

			<p class="py-6 font-bold">
				Research code is terrible.
			</p>

			<p class="py-6">
				The documentation, if it exists, is often terrible and unreadable. In-line comments within code often leave you more confused than 
				when you started. The environment the code is designed to run in can only be done by a trial and error of installing old python packages
				and finally seeing what sticks. Unit tests or any kind of TDD are seen as a joke. As someone who considers themself a software engineer before a researcher, its an interesting environment to work in.
			</p>

			<p class="py-6">
				That being said, I will not pretend that all research code needs to or can be good. I think researchers often have very valid excuses as to why their code is terrible.
			</p>

			<hr class="border-b-2 border-gray-400 mb-8 mx-4">

			<p class="py-3">
				1. It doesn't need to be. Often you write code for one-off experiments, such as to create a quick graph of something in a Jupyter notebook. If you're not going to use it after a day or two, then why invest unnecessary time into making it elegant?
			</p>
			<p class="py-3">
				2. Given the model of funding, (at least within our organization), there may not be time to create robust, architecturally sound test code. When money dries up, you don't want to just have a software suite capable of doing tests as your final result!
			</p>
			<p class="py-3">
				3. Not everyone is a computer scientist or software engineer by education or trade. This often means they just are not aware of how to create or what makes good, architecturally sound software. You can have data scientists, electrical engineers, or mathematicians who only know enough code to get them through their experiments. They have much better things to worry about than good software architecture. 
			</p>

			<hr class="border-b-2 border-gray-400 mb-8 mx-4">

			<p class="py-6">
				These are all extremely valid reasons. But sometimes, I find for longer standing projects, a habit of creating bad software can only
				serve to slow a team down, or have downstream consequences that can spill disaster for a research team. 
			</p>

			<p class="py-6">
				I have heard of times where poor software design and confusing code meant presenting wrong information to a sponsor.
				In one such case, a team had created a deep learning model for some task, and when presenting prelimianry results to a sponsor,
				they showed their model already had over 98% accuracy! Wow! Now that's something that's obviously getting funding. However,
				as the researchers came to find later, to their horror, they had tested their model on the training data due to a bug in their code.
			</p>

			<p class="py-6">
				Fundamentally, science is about reproducibility. An independent person should be able to take an experimental setup and reproduce results
				that someone else has already found. Theoretically, computer science should have this easiest among most other fields! But in practicality, this is not
				the case at all. <b>If your code isn't well maintained, how do you know you can trust your results?</b> You get from code what you put into it, and putting
				in a shoddy effort towards designing, coding, and maintaining it can and should give you pause on your results. 
			</p>

			<p class="py-6">
				So personally, why do I care as a primary software engineer? Well first off, it's my job, so obviously I care in that regard. But more personally, 
				it has been a nightmare for me ever since I did research in undergrad that I come to some false conclusion due to faulty or incorrect
				code, where a bug causes the results to be misrepresented. This was especially true because the reinforcement learning code I wrote for my
				undergrad thesis was not only unsuccessful, but extremely jank and buggy at points. I just get the feeling that if a government sponsor gives you
				a million dollars under the assumptions of incorrect results due to a bug, they will be wholly unsympathetic. 
			</p>

			<p class="py-6">
				The take away from bad research code that I've encountered is that nowadays I am extremely skeptical of any finding in a
				computer science/artificial intelligence research paper. Unless there is an available demo or it's open source, I have what I believe to be very reasonable
				belief that the results are totally misrepresented. 
			</p>
			<!--/ Post Content-->
            <br>
			<hr class="border-b-2 border-gray-400 mb-8 mx-4">
		</div>

		<!--Divider-->
		<hr class="border-b-2 border-gray-900 mb-8 mx-4">
		<p class="text-base md:text-sm text-blue-800 font-bold pb-16 text-center">&lt; <a href="../index.html" class="text-base md:text-sm text-blue-800 font-bold no-underline hover:underline">homepage</a></p>
	</div>
	<!--/container-->

	<script>
		/* Progress bar */
		//Source: https://alligator.io/js/progress-bar-javascript-css-variables/
		var h = document.documentElement,
			b = document.body,
			st = 'scrollTop',
			sh = 'scrollHeight',
			progress = document.querySelector('#progress'),
			scroll;
		var scrollpos = window.scrollY;
		var header = document.getElementById("header");
		var navcontent = document.getElementById("nav-content");

		document.addEventListener('scroll', function() {

			/*Refresh scroll % width*/
			scroll = (h[st] || b[st]) / ((h[sh] || b[sh]) - h.clientHeight) * 100;
			progress.style.setProperty('--scroll', scroll + '%');

			/*Apply classes for slide in bar*/
			scrollpos = window.scrollY;

			if (scrollpos > 10) {
				header.classList.add("bg-white");
				header.classList.add("shadow");
				navcontent.classList.remove("bg-gray-100");
				navcontent.classList.add("bg-white");
			} else {
				header.classList.remove("bg-white");
				header.classList.remove("shadow");
				navcontent.classList.remove("bg-white");
				navcontent.classList.add("bg-gray-100");

			}

		});


		//Javascript to toggle the menu
		document.getElementById('nav-toggle').onclick = function() {
			document.getElementById("nav-content").classList.toggle("hidden");
		}
	</script>

</body>

</html>

<!--
			<blockquote class="border-l-4 border-green-500 italic my-8 pl-8 md:pl-12">Example of blockquote - Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam at ipsum eu nunc commodo posuere et sit amet ligula.</blockquote>

			<p class="py-6">Example code block:</p>
			<pre class="bg-gray-900 rounded text-white font-mono text-base p-2 md:p-4">
				<code class="break-words whitespace-pre-wrap">
&lt;header class="site-header outer"&gt;
&lt;div class="inner"&gt;
{{&gt; "site-nav"}}
&lt;/div&gt;
&lt;/header&gt;
				</code>
			</pre>

-->